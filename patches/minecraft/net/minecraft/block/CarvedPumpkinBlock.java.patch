--- a/net/minecraft/block/CarvedPumpkinBlock.java
+++ b/net/minecraft/block/CarvedPumpkinBlock.java
@@ -21,6 +_,8 @@
 import net.minecraft.util.math.BlockPos;
 import net.minecraft.world.IWorldReader;
 import net.minecraft.world.World;
+import org.bukkit.craftbukkit.v1_16_R3.util.BlockStateListPopulator;
+import org.bukkit.event.entity.CreatureSpawnEvent.SpawnReason;
 
 public class CarvedPumpkinBlock extends HorizontalBlock implements IArmorVanishable {
    public static final DirectionProperty FACING = HorizontalBlock.FACING;
@@ -53,17 +_,27 @@
 
    private void trySpawnGolem(World p_196358_1_, BlockPos p_196358_2_) {
       BlockPattern.PatternHelper blockpattern$patternhelper = this.getOrCreateSnowGolemFull().find(p_196358_1_, p_196358_2_);
+      BlockStateListPopulator blockList = new BlockStateListPopulator(p_196358_1_); // CraftBukkit - Use BlockStateListPopulator
       if (blockpattern$patternhelper != null) {
          for(int i = 0; i < this.getOrCreateSnowGolemFull().getHeight(); ++i) {
             CachedBlockInfo cachedblockinfo = blockpattern$patternhelper.getBlock(0, i, 0);
-            p_196358_1_.setBlock(cachedblockinfo.getPos(), Blocks.AIR.defaultBlockState(), 2);
-            p_196358_1_.levelEvent(2001, cachedblockinfo.getPos(), Block.getId(cachedblockinfo.getState()));
+            blockList.setBlock(cachedblockinfo.getPos(), Blocks.AIR.defaultBlockState(), 2); // CraftBukkit
+            //world.playEvent(2001, cachedblockinfo.getPos(), Block.getStateId(cachedblockinfo.getBlockState())); // CraftBukkit
          }
 
          SnowGolemEntity snowgolementity = EntityType.SNOW_GOLEM.create(p_196358_1_);
          BlockPos blockpos1 = blockpattern$patternhelper.getBlock(0, 2, 0).getPos();
          snowgolementity.moveTo((double)blockpos1.getX() + 0.5D, (double)blockpos1.getY() + 0.05D, (double)blockpos1.getZ() + 0.5D, 0.0F, 0.0F);
-         p_196358_1_.addFreshEntity(snowgolementity);
+
+         // CraftBukkit start
+         if (!p_196358_1_.addEntity(snowgolementity, SpawnReason.BUILD_SNOWMAN)) {
+            return;
+         }
+         for (BlockPos blockPos : blockList.getBlocks()) {
+            p_196358_1_.levelEvent(2001, blockPos, Block.getId(p_196358_1_.getBlockState(blockPos)));
+         }
+         blockList.updateList();
+         // CraftBukkit end
 
          for(ServerPlayerEntity serverplayerentity : p_196358_1_.getEntitiesOfClass(ServerPlayerEntity.class, snowgolementity.getBoundingBox().inflate(5.0D))) {
             CriteriaTriggers.SUMMONED_ENTITY.trigger(serverplayerentity, snowgolementity);
@@ -79,8 +_,8 @@
             for(int j = 0; j < this.getOrCreateIronGolemFull().getWidth(); ++j) {
                for(int k = 0; k < this.getOrCreateIronGolemFull().getHeight(); ++k) {
                   CachedBlockInfo cachedblockinfo2 = blockpattern$patternhelper.getBlock(j, k, 0);
-                  p_196358_1_.setBlock(cachedblockinfo2.getPos(), Blocks.AIR.defaultBlockState(), 2);
-                  p_196358_1_.levelEvent(2001, cachedblockinfo2.getPos(), Block.getId(cachedblockinfo2.getState()));
+                  blockList.setBlock(cachedblockinfo2.getPos(), Blocks.AIR.defaultBlockState(), 2); // CraftBukkit
+                  //world.playEvent(2001, cachedblockinfo2.getPos(), Block.getStateId(cachedblockinfo2.getBlockState())); // CraftBukkit
                }
             }
 
@@ -88,7 +_,16 @@
             IronGolemEntity irongolementity = EntityType.IRON_GOLEM.create(p_196358_1_);
             irongolementity.setPlayerCreated(true);
             irongolementity.moveTo((double)blockpos.getX() + 0.5D, (double)blockpos.getY() + 0.05D, (double)blockpos.getZ() + 0.5D, 0.0F, 0.0F);
-            p_196358_1_.addFreshEntity(irongolementity);
+
+            // CraftBukkit start
+            if (!p_196358_1_.addEntity(irongolementity, SpawnReason.BUILD_IRONGOLEM)) {
+               return;
+            }
+            for (BlockPos blockPos : blockList.getBlocks()) {
+               p_196358_1_.levelEvent(2001, blockPos, Block.getId(p_196358_1_.getBlockState(blockPos)));
+            }
+            blockList.updateList();
+            // CraftBukkit end
 
             for(ServerPlayerEntity serverplayerentity1 : p_196358_1_.getEntitiesOfClass(ServerPlayerEntity.class, irongolementity.getBoundingBox().inflate(5.0D))) {
                CriteriaTriggers.SUMMONED_ENTITY.trigger(serverplayerentity1, irongolementity);
