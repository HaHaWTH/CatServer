--- a/net/minecraft/block/StemBlock.java
+++ b/net/minecraft/block/StemBlock.java
@@ -16,6 +_,7 @@
 import net.minecraft.world.IBlockReader;
 import net.minecraft.world.World;
 import net.minecraft.world.server.ServerWorld;
+import org.bukkit.craftbukkit.v1_16_R3.event.CraftEventFactory;
 
 public class StemBlock extends BushBlock implements IGrowable {
    public static final IntegerProperty AGE = BlockStateProperties.AGE_7;
@@ -37,22 +_,28 @@
    }
 
    public void randomTick(BlockState p_225542_1_, ServerWorld p_225542_2_, BlockPos p_225542_3_, Random p_225542_4_) {
+      if (!p_225542_2_.isAreaLoaded(p_225542_3_, 1)) return; // Forge: prevent loading unloaded chunks when checking neighbor's light
       if (p_225542_2_.getRawBrightness(p_225542_3_, 0) >= 9) {
          float f = CropsBlock.getGrowthSpeed(this, p_225542_2_, p_225542_3_);
-         if (p_225542_4_.nextInt((int)(25.0F / f) + 1) == 0) {
+         if (net.minecraftforge.common.ForgeHooks.onCropsGrowPre(p_225542_2_, p_225542_3_, p_225542_1_, p_225542_4_.nextInt((int) ((100.0F / (this == Blocks.PUMPKIN_STEM ? p_225542_2_.spigotConfig.pumpkinModifier : p_225542_2_.spigotConfig.melonModifier)) * (25.0F / f)) + 1) == 0)) { // Spigot
             int i = p_225542_1_.getValue(AGE);
             if (i < 7) {
-               p_225542_1_ = p_225542_1_.setValue(AGE, Integer.valueOf(i + 1));
-               p_225542_2_.setBlock(p_225542_3_, p_225542_1_, 2);
+               CraftEventFactory.handleBlockGrowEvent(p_225542_2_, p_225542_3_, p_225542_1_.setValue(AGE, Integer.valueOf(i + 1)), 2); // CraftBukkit
             } else {
                Direction direction = Direction.Plane.HORIZONTAL.getRandomDirection(p_225542_4_);
                BlockPos blockpos = p_225542_3_.relative(direction);
                BlockState blockstate = p_225542_2_.getBlockState(blockpos.below());
-               if (p_225542_2_.getBlockState(blockpos).isAir() && (blockstate.is(Blocks.FARMLAND) || blockstate.is(Blocks.DIRT) || blockstate.is(Blocks.COARSE_DIRT) || blockstate.is(Blocks.PODZOL) || blockstate.is(Blocks.GRASS_BLOCK))) {
-                  p_225542_2_.setBlockAndUpdate(blockpos, this.fruit.defaultBlockState());
+               Block block = blockstate.getBlock();
+               if (p_225542_2_.isEmptyBlock(blockpos) && (blockstate.canSustainPlant(p_225542_2_, blockpos.below(), Direction.UP, this) || block == Blocks.FARMLAND || block == Blocks.DIRT || block == Blocks.COARSE_DIRT || block == Blocks.PODZOL || block == Blocks.GRASS_BLOCK)) {
+                  // CraftBukkit start
+                  if (!CraftEventFactory.handleBlockGrowEvent(p_225542_2_, blockpos, this.fruit.defaultBlockState())) {
+                     return;
+                  }
+                  // CraftBukkit end
                   p_225542_2_.setBlockAndUpdate(p_225542_3_, this.fruit.getAttachedStem().defaultBlockState().setValue(HorizontalBlock.FACING, direction));
                }
             }
+            net.minecraftforge.common.ForgeHooks.onCropsGrowPost(p_225542_2_, p_225542_3_, p_225542_1_);
          }
 
       }
@@ -83,7 +_,8 @@
    public void performBonemeal(ServerWorld p_225535_1_, Random p_225535_2_, BlockPos p_225535_3_, BlockState p_225535_4_) {
       int i = Math.min(7, p_225535_4_.getValue(AGE) + MathHelper.nextInt(p_225535_1_.random, 2, 5));
       BlockState blockstate = p_225535_4_.setValue(AGE, Integer.valueOf(i));
-      p_225535_1_.setBlock(p_225535_3_, blockstate, 2);
+      CraftEventFactory.handleBlockGrowEvent(p_225535_1_, p_225535_3_, blockstate, 2); // CraftBukkit
+
       if (i == 7) {
          blockstate.randomTick(p_225535_1_, p_225535_3_, p_225535_1_.random);
       }
@@ -96,5 +_,11 @@
 
    public StemGrownBlock getFruit() {
       return this.fruit;
+   }
+
+   //FORGE START
+   @Override
+   public net.minecraftforge.common.PlantType getPlantType(IBlockReader world, BlockPos pos) {
+      return net.minecraftforge.common.PlantType.CROP;
    }
 }
